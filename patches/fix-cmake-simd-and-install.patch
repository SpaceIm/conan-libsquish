--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -31,17 +31,6 @@ IF (BUILD_SQUISH_WITH_OPENMP)
    ENDIF()
 ENDIF()
 
-IF (CMAKE_GENERATOR STREQUAL "Xcode")
-    SET(CMAKE_OSX_ARCHITECTURES "i386;ppc")
-ELSE (CMAKE_GENERATOR STREQUAL "Xcode")
-    IF (BUILD_SQUISH_WITH_SSE2 AND NOT WIN32)
-        ADD_DEFINITIONS(-DSQUISH_USE_SSE=2 -msse2)
-    ENDIF (BUILD_SQUISH_WITH_SSE2 AND NOT WIN32)
-    IF (BUILD_SQUISH_WITH_ALTIVEC AND NOT WIN32)
-        ADD_DEFINITIONS(-DSQUISH_USE_ALTIVEC=1 -maltivec)
-    ENDIF (BUILD_SQUISH_WITH_ALTIVEC AND NOT WIN32)
-ENDIF (CMAKE_GENERATOR STREQUAL "Xcode")
-
 SET(SQUISH_HDRS
     squish.h
     )
@@ -75,6 +64,21 @@ INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})
 
 ADD_LIBRARY(squish ${SQUISH_SRCS} ${SQUISH_HDRS})
 
+IF(BUILD_SQUISH_WITH_SSE2)
+    TARGET_COMPILE_DEFINITIONS(squish PRIVATE "SQUISH_USE_SSE=2")
+    # SSE2 is enabled by default with MSVC
+    IF(NOT MSVC)
+        TARGET_COMPILE_OPTIONS(squish PRIVATE -msse2)
+    ENDIF()
+ENDIF()
+
+IF(BUILD_SQUISH_WITH_ALTIVEC)
+    IF(NOT MSVC)
+        TARGET_COMPILE_DEFINITIONS(squish PRIVATE "SQUISH_USE_ALTIVEC=1")
+        TARGET_COMPILE_OPTIONS(squish PRIVATE -maltivec)
+    ENDIF()
+ENDIF()
+
 SET_TARGET_PROPERTIES(
     squish PROPERTIES
     PUBLIC_HEADER "${SQUISH_HDRS}"
@@ -113,5 +117,6 @@ INSTALL(
     TARGETS squish
     LIBRARY DESTINATION lib
     ARCHIVE DESTINATION lib
+    RUNTIME DESTINATION bin
     PUBLIC_HEADER DESTINATION include
     )
